(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t){},103:function(e,t,a){},106:function(e,t,a){},108:function(e,t,a){},110:function(e,t,a){},112:function(e,t,a){},114:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(42),c=a.n(o),i=(a(50),a(1)),r=a(2),l=a(4),m=a(3),u=a(5),h=a(11),p=(a(52),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"conversation-search"},s.a.createElement("input",{type:"search",className:"conversation-search-input",placeholder:"Search Messages"}))}}]),t}(n.Component)),g=a(43),d=(a(54),a(7)),f=a.n(d),b=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){Object(g.a)(".conversation-snippet",20)}},{key:"render",value:function(){var e=this.props.data,t=e.photo,a=e.name,n=e.text,o=e.tomsg;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"conversation-list-item",onClick:this.props.showMsgHistory.bind(this,o)},s.a.createElement("img",{className:"conversation-photo",src:t,alt:a,onError:function(e){e.target.onerror=null,e.target.src="https://beldara.com/images/User_Avatarpng.png"}}),s.a.createElement("div",{className:"conversation-info"},s.a.createElement("h1",{className:"conversation-title"},a),s.a.createElement("p",{className:"conversation-snippet"},n))))}}]),t}(n.Component),v=(a(74),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.leftItems,n=e.rightItems;return s.a.createElement("div",{className:"toolbar"},s.a.createElement("div",{className:"left-items"},a),s.a.createElement("h1",{className:"toolbar-title"},t),s.a.createElement("div",{className:"right-items"},n))}}]),t}(n.Component)),j=(a(76),a(44)),O=a.n(j)()("http://localhost:8000"),E={name:""};O.on("chat message",function(e){console.log(e),f.a.post("https://jsonplaceholder.typicode.com/users",{user:E}).then(function(e){console.log(e),console.log(e.data)})});var y=O,k=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.doSomething=function(e){return e.preventDefault(),console.log("it works!"),y.emit("chat message","s"),!1},this.msg=function(e){this.setState({message:e.target.value})},s.a.createElement("div",{className:"compose"},s.a.createElement("form",{action:"",onSubmit:this.doSomething},s.a.createElement("input",{type:"text",id:"m",className:"compose-input",placeholder:"Type a message, @name"})))}}]),t}(n.Component),N=(a(103),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.icon;return s.a.createElement("i",{className:"toolbar-button ".concat(e)})}}]),t}(n.Component)),w=a(8),M=a.n(w),S=(a(106),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.isMine,n=e.startsSequence,o=e.endsSequence,c=e.showTimestamp,i=M()(t.timestamp).format("LLLL");return s.a.createElement("div",{className:["message","".concat(a?"mine":""),"".concat(n?"start":""),"".concat(o?"end":"")].join(" ")},c&&s.a.createElement("div",{className:"timestamp"},i),s.a.createElement("div",{className:"bubble-container"},s.a.createElement("div",{className:"bubble",title:i},t.message)))}}]),t}(n.Component)),C=(a(108),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).getMessages=function(){console.log(1);f.a.post("https://beldara.com/react-api/get_history_chat.php?user=122").then(function(e){var t=e;console.log(t),a.setState({messages:[e.data]}),a.setState(function(t){return Object(h.a)({},t,{messages:e.data.result})})})},a.state={messages:[]},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.tomsg!==e.tomsg&&(console.log(this.props.tomsg),console.log("Messagelist"),this.getMessages(this.props.tomsg))}},{key:"renderMessages",value:function(){for(var e=0,t=this.state.messages.length,a=[];e<t;){var n=this.state.messages[e-1],o=this.state.messages[e],c=this.state.messages[e+1],i="apple"===o.author,r=M()(o.timestamp),l=!0,m=!0,u=!0;if(n){var h=M()(n.timestamp),p=M.a.duration(r.diff(h));n.author===o.author&&p.as("hours")<1&&(l=!1),p.as("hours")<1&&(u=!1)}if(c){var g=M()(c.timestamp),d=M.a.duration(g.diff(r));c.author===o.author&&d.as("hours")<1&&(m=!1)}a.push(s.a.createElement(S,{key:e,isMine:i,startsSequence:l,endsSequence:m,showTimestamp:u,data:o})),e+=1}return a}},{key:"render",value:function(){return s.a.createElement("div",{className:"message-list"},s.a.createElement(v,{title:"Conversation Title",rightItems:[s.a.createElement(N,{key:"info",icon:"ion-ios-information-circle-outline"}),s.a.createElement(N,{key:"video",icon:"ion-ios-videocam"}),s.a.createElement(N,{key:"phone",icon:"ion-ios-call"})]}),s.a.createElement("div",{className:"message-list-container"},this.renderMessages()),s.a.createElement(k,{rightItems:[s.a.createElement(N,{key:"photo",icon:"ion-ios-camera"}),s.a.createElement(N,{key:"image",icon:"ion-ios-image"}),s.a.createElement(N,{key:"audio",icon:"ion-ios-mic"}),s.a.createElement(N,{key:"money",icon:"ion-ios-card"}),s.a.createElement(N,{key:"games",icon:"ion-logo-game-controller-b"}),s.a.createElement(N,{key:"emoji",icon:"ion-ios-happy"})]}))}}]),t}(n.Component)),I=(a(110),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).getMessages=function(){console.log(1);f.a.post("https://beldara.com/react-api/get_history_chat.php?user=122").then(function(e){var t=e;console.log(t),a.setState({messages:[e.data]}),a.setState(function(t){return Object(h.a)({},t,{messages:e.data.result})})})},a.showMsgHistory=function(e){console.log(e),a.setState({tomsg1:e})},a.getConversations=function(){f.a.get("https://beldara.com/react-api/get_contact_list.php",{crossdomain:!0}).then(function(e){a.setState(function(t){var a=e.data.result.map(function(e){return{photo:e.picture,name:"".concat(e.name),tomsg:e.sellerid}});return Object(h.a)({},t,{conversations:a})})})},a.state={conversations:[],messages:[],tomsg1:[]},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getConversations()}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"scrollable sidebar"},s.a.createElement("div",{className:"conversation-list"},s.a.createElement(v,{title:"Messenger",leftItems:[s.a.createElement(N,{key:"cog",icon:"ion-ios-cog"})],rightItems:[s.a.createElement(N,{key:"add",icon:"ion-ios-add-circle-outline"})]}),s.a.createElement(p,null),this.state.conversations.map(function(t){return s.a.createElement(b,{key:t.tomsg,data:t,showMsgHistory:e.showMsgHistory})}))),s.a.createElement("div",{className:"scrollable content"},s.a.createElement(C,{tomsg:this.state.tomsg1})))}}]),t}(n.Component)),_=(a(112),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"messenger"},s.a.createElement(I,null))}}]),t}(n.Component)),q=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(_,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},45:function(e,t,a){e.exports=a(114)},50:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){}},[[45,2,1]]]);
//# sourceMappingURL=main.11328586.chunk.js.map